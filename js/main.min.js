function loadPosts(){function t(t){$.get(postPath+postList[curPos].file).done(function(o){o=splitPostData(o),console.log(o);var e='<div class="post-header">';e+=parseHeader(o[0]),e+="</div>";var n='<div class="post-body">';n+=marked(o[1]),n+="</div>",$(t).html(e+n)})}if(!(curPos>=totalPosts)){$(contentEl).html("");for(var o=0;ppp>o&&totalPosts>curPos;o++){var e="post-"+o,n='<div id="'+e+'"></div>';$(contentEl).append(n),t("#"+e),curPos++}}}function validatePost(t){var o=!0;return t?t.indexOf("\n---\n")<0&&(o=!1):o=!1,o}function splitPostData(t){if(validatePost(t)){var t=t.split(/^---\n|\n---\n/),o=t[2],e=t[1].split("\n"),n={};return $.each(e,function(t,o){if(e[t]){var a=e[t].split(":"),i=a[0].toLowerCase().trim(),s=a[1].trim();"tags"==i&&(s=$.map(s.split(","),function(t){return t.trim()})),n[i]=s}}),[n,o]}}function parseHeader(t){var o="";return t.title&&(o+="<h1>"+t.title+"</h1>"),o+="<p>",t.author&&(o+="by <strong>"+t.author+"</strong> "),t.date&&(o+="on "+parseDate(t.date)+" "),t.updated&&(o+="updated on "+parseDate(t.updated)),size(t.tags)>0&&$.each(t.tags,function(t,e){o+=' <div class="post-tag">'+e+"</div>"}),o+="</p>"}function loadPager(t){var o='<nav><ul class="pager"><li><a class="pager-previous" href="#">Previous Page</a></li><li><a class="pager-next" href="#">Next Page</a></li></ul></nav>';"top"==t?$(".pager-top").html(o):"bottom"==t?$(".pager-bottom").html(o):"both"==t&&($(".pager-top").html(o),$(".pager-bottom").html(o))}function setMediaLinks(){var t=!1;for(i in author_info)if(icons.web_icons[i]){if(!t){var o='<ul class="list-inline">';t=!0}o+='<li><a href="'+author_info[i]+'">',o+='<i class="fa '+icons.web_icons[i]+'"></i></a></li>'}o&&(o+="</ul>",$(".media-links").html(o))}function setAuthorInfo(){author_info.name&&$(".author-name").html(author_info.name),author_info.description&&$(".author-description").html(author_info.description),setMediaLinks()}function parseDate(t){var o=new Date(t);return o=o.toLocaleString()}function size(t){var o=$.map(t,function(t,o){return o}).length;return o}function log(t,o){o=o||!1,o&&(t="<<ERROR>>: "+t),debug&&console.log(t)}function timeIt(t){console.time(function(){t()}),console.timeEnd(function(){t()})}function parseDate(t){var o=new Date(t);return o=o.toLocaleString()}function populatePager(t){var o='<nav><ul class="pager"><li><a class="pager-previous" href="#">Previous Page</a></li><li><a class="pager-next" href="#">Next Page</a></li></ul></nav>';"top"==t?$(".pager-top").html(o):"bottom"==t?$(".pager-bottom").html(o):($(".pager-top").html(o),$(".pager-bottom").html(o))}function populate(){$("#blog-content").html("");for(var t=config.posts_per_page,o=0;t>o;o++)cursor_pos<=_.size(posts)&&(log("Retrieving "+posts[cursor_pos].file),$.get(posts_dir+posts[cursor_pos].file).then(function(t){populateMainContent(t)},function(){log("Cannot load content",err=!0)}),cursor_pos++)}function validatePost(t){var o=!0;return t?t.indexOf("\n---\n")<0&&(log("Invalid format",err=!0),o=!1):(log("No content",err=!0),o=!1),o}function getPostInfo(t){if(validatePost(t)){var o={},e=t.split(reSplit)[1],e=e.split("\n");return _.each(e,function(t,n){if(e[n]){var a=e[n].split(":"),i=a[0].toLowerCase().trim(),s=a[1].trim();"tags"==i&&(s=_.map(s.split(","),function(t){return t.trim()})),o[i]=s}}),o}}function getPostContent(t){if(validatePost(t)){var o=t.split(reSplit)[2];return o}}function returnInfoDiv(t){var o="";return t.title&&(o+="<h1>"+t.title+"</h1>"),o+="<p>",t.author&&(o+="by <strong>"+t.author+"</strong> "),t.date&&(o+="on "+parseDate(t.date)+" "),t.updated&&(o+="updated on "+parseDate(t.updated)),_.size(t.tags)>0&&_.each(t.tags,function(t){o+=' <div class="post-tag">'+t+"</div>"}),o+="</p>"}function populateMainContent(t){var o='<div class="post"><div class="post-info">%info%</div><div class="post-content">%content%</div></div>',e="",n=getPostContent(t),a=returnInfoDiv(getPostInfo(t));e=o.replace("%info%",a),e=e.replace("%content%",marked(n)),log("Inserting post"),$("#blog-content").append(e)}function setMediaLinks(){var t=!1;for(i in author_info)if(icons.web_icons[i]){if(!t){var o='<ul class="list-inline">';t=!0}o+='<li><a href="'+author_info[i]+'">',o+='<i class="fa '+icons.web_icons[i]+'"></i></a></li>'}o&&(o+="</ul>",$(".media-links").html(o))}function setAuthorInfo(){author_info.name&&$(".author-name").html(author_info.name),author_info.description&&$(".author-description").html(author_info.description),setMediaLinks()}var ppp=3,contentEl="#blog-content",postPath="posts/published/",postListFile="posts/posts.json",postList,curPos=0,pagerPosition="top",totalPosts;$(function(){$.getJSON(postListFile).done(function(t){postList=t,totalPosts=size(postList),loadPosts()}),loadPager(pagerPosition),$(".pager").on("click",".pager-previous",function(){curPos-=2*ppp,0>curPos&&(curPos=0),loadPosts(),console.log(curPos+"p")}),$(".pager").on("click",".pager-next",function(){loadPosts(),console.log(curPos)}),setAuthorInfo()}),debug=!0;var cursor=[],posts_dir=config.posts_dir,cursor_pos=0,reSplit=/^---\n|\n---\n/;$(".pager").on("click",".previous",function(){log("previous"+cursor_pos),cursor_pos-=config.posts_per_page,populate()}),$(".pager").on("click",".next",function(){log("next"+cursor_pos),populate()})(function(){for(var t,o=function(){},e=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],n=e.length,a=window.console=window.console||{};n--;)t=e[n],a[t]||(a[t]=o)}()),icons={gender_icons:{male:"mars",female:"venus",transgender:"transgender",undefined:"question"},software_icons:{linux:"fa-linux",mac:"fa-apple",osx:"fa-apple",ios:"fa-apple",windows:"fa-windows",android:"fa-android"},web_icons:{website:"fa-globe",twitter:"fa-twitter",facebook:"fa-facebook","google-plus":"fa-google-plus",email:"fa-envelope-o",instagram:"fa-instagram",soundcloud:"fa-soundcloud",linkedin:"fa-linkedin",reddit:"fa-reddit",lastfm:"fa-lastfm",paypal:"fa-paypal",skype:"fa-skype",tumblr:"fa-tumblr",deviantart:"fa-deviantart",flickr:"fa-flickr",pinterest:"fa-pinterest",youtube:"fa-youtube",vine:"fa-vine",twitch:"fa-twitch",steam:"fa-steam",slideshare:"fa-slideshare",github:"fa-github",bitbucket:"fa-bitbucket",git:"fa-git",codepen:"fa-codepen",behance:"fa-behance",leanpub:"fa-leanpub"}};